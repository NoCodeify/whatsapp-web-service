# Production Environment Configuration for WhatsApp Web Service
# Copy this to .env for production deployment

# Server Configuration
PORT=8080
NODE_ENV=production

# CORS Configuration - Set specific origins for production
CORS_ORIGIN=https://your-domain.com,https://app.your-domain.com

# API Security - Use a strong, unique key
API_KEY=wws_prod_generate_secure_key_here

# Firebase Configuration (Production Project)
FIREBASE_PROJECT_ID=whatzai
# Service account credentials should be provided via 
# GOOGLE_APPLICATION_CREDENTIALS environment variable
# or deployed service account in GCP

# Session Storage Configuration
# hybrid mode recommended for production - local cache + cloud backup
SESSION_STORAGE_TYPE=hybrid
SESSION_STORAGE_PATH=/app/sessions
# Backup every 5 minutes
SESSION_BACKUP_INTERVAL=300000

# Google Cloud Storage (Required for hybrid mode)
STORAGE_BUCKET=whatzai-whatsapp-sessions-prod
# Ensure the bucket exists and has proper permissions

# Session Encryption (REQUIRED for production)
# Generate with: openssl rand -hex 32
SESSION_ENCRYPTION_KEY=REPLACE_WITH_64_CHAR_HEX_KEY

# Bright Data Proxy Configuration (Production)
USE_PROXY=true
BRIGHT_DATA_CUSTOMER_ID=your_production_customer_id
BRIGHT_DATA_PASSWORD=your_production_password
BRIGHT_DATA_ZONE=residential_proxy_production

# Logging
LOG_LEVEL=info

# Memory Management
MAX_CONNECTIONS_PER_INSTANCE=20
CONNECTION_MEMORY_LIMIT_MB=200
MEMORY_THRESHOLD=0.8
DISABLE_MEMORY_CHECK=false

# Health Check & Cleanup
HEALTH_CHECK_INTERVAL=30000
SESSION_CLEANUP_INTERVAL=3600000

# WebSocket Configuration
WS_PORT=8081
WS_PING_INTERVAL=30000
WS_PONG_TIMEOUT=10000
# Generate secure token for production
WS_TOKEN=wws_prod_generate_secure_ws_token_here

# Instance Configuration (for Cloud Run)
INSTANCE_URL=https://whatsapp-web-service-xxxxx-uc.a.run.app